<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Learning PWA Step - 1</title>

    <!-- Manifest file-->
    <link href="manifest.json" rel="manifest">

    <!-- Fomantic Assets -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/fomantic-ui@2.8.7/dist/semantic.min.css" rel="stylesheet" type="text/css">
    <script src="https://cdn.jsdelivr.net/npm/fomantic-ui@2.8.7/dist/semantic.min.js"></script>

    <!-- Custom styles-->
    <link href="../assets/common-styles.css" rel="stylesheet" type="text/css">

    <script>
        if (navigator["serviceWorker"])
            navigator.serviceWorker.register('./sw.js');
    </script>

</head>
<body>

<div class="ui borderless inverted top fixed menu">
    <div class="item">
        <img alt="Learning PWA Icon" src="../assets/castle-inverted-1024.png">
    </div>
    <div class="red header item">
        Learning PWA
    </div>
</div>


<div class="ui inverted raised container" style="margin-top: 200px">
    <div class="ui centered grid">
        <div class="ten wide column">
            <div class="ui stacked very padded raised inverted segment">
                <div class="ui huge inverted header">
                    Step - 2: Add service worker
                </div>
                <ul>
                    <li>
                        Create sw.js
                        <pre>self.addEventListener("install", (e) => {
    e.waitUntil(
        caches.open(CACHE_KEY).then((cache) => {
            return cache.addAll(["./index.html"])
        })
    );
});</pre>
                    </li>
                    <li>
                        Add script to register sw.js
                        <pre>if (navigator["serviceWorker"])
    navigator.serviceWorker.register('./sw.js');</pre>
                    </li>
                    <li>
                        List all files to be caches in sw.js
                    </li>
                </ul>
                <div class="ui disabled header">
                    To test if service worker is working, turn off internet and reload the page
                </div>
            </div>
        </div>
    </div>
</div>

</body>
</html>